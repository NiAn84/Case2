extends layout

block content
    script.
        var changeField = function (email) {
            var f = document.createElement('form');
            f.setAttribute('method', 'post');
            f.setAttribute('action', '/dashboard/updateUser');

            var i = document.createElement("input");
            i.setAttribute('type', 'email',);
            i.setAttribute('name', 'email');
            i.setAttribute('value', email);
            var s = document.createElement('input');
            s.setAttribute('type', 'submit');
            s.setAttribute('value', 'Submit');

            f.appendChild(i);
            f.appendChild(s);

            var old = document.getElementById('email');
            old.parentNode.replaceChild(f, old);
        }

    h1 Welcome #{user.first_name}
    img(src="/images/avatars/#{user.avatar}")
    p Info about you:
        p First Name: #{user.first_name}
        p Last Name: #{user.last_name}
        p#email Email: #{user.email}     
            button.input_box(onclick="changeField('#{user.email}')") Change Email
        p Username: #{user.username}
        br
        p Your car:
        p Reg.Nr: #{user.car.reg}
        p Model: #{user.car.car}
        p Color: #{user.car.color}

